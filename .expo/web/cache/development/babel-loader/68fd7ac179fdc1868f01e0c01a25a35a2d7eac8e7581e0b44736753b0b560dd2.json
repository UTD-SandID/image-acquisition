{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Constants from 'expo-constants';\nimport { Camera, CameraType } from 'expo-camera';\nimport * as MediaLibrary from 'expo-media-library';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport Button from \"./src/components/Button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasCameraPermission = _useState2[0],\n    setHasCameraPermission = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    image = _useState4[0],\n    setImage = _useState4[1];\n  var _useState5 = useState(Camera.Constants.Type.back),\n    _useState6 = _slicedToArray(_useState5, 2),\n    type = _useState6[0],\n    setType = _useState6[1];\n  var _useState7 = useState(Camera.Constants.FlashMode.off),\n    _useState8 = _slicedToArray(_useState7, 2),\n    flash = _useState8[0],\n    setFlash = _useState8[1];\n  var cameraRef = useRef(null);\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      MediaLibrary.requestPermissionsAsync();\n      var cameraStatus = yield Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === 'granted');\n    })();\n  }, []);\n  var takePicture = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (cameraRef) {\n        try {\n          var data = yield cameraRef.current.takePictureAsync();\n          console.log(data);\n          setImage(data.uri);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n    return function takePicture() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var savePicture = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (image) {\n        try {\n          var asset = yield MediaLibrary.createAssetAsync(image);\n          alert('Picture saved! ðŸŽ‰');\n          setImage(null);\n          console.log('saved successfully');\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n    return function savePicture() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (hasCameraPermission === false) {\n    return _jsx(Text, {\n      children: \"No access to camera\"\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [!image ? _jsx(Camera, {\n      style: styles.camera,\n      type: type,\n      ref: cameraRef,\n      flashMode: flash,\n      children: _jsxs(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          paddingHorizontal: 30\n        },\n        children: [_jsx(Button, {\n          title: \"\",\n          icon: \"retweet\",\n          onPress: function onPress() {\n            setType(type === CameraType.back ? CameraType.front : CameraType.back);\n          }\n        }), _jsx(Button, {\n          onPress: function onPress() {\n            return setFlash(flash === Camera.Constants.FlashMode.off ? Camera.Constants.FlashMode.on : Camera.Constants.FlashMode.off);\n          },\n          icon: \"flash\",\n          color: flash === Camera.Constants.FlashMode.off ? 'gray' : '#fff'\n        })]\n      })\n    }) : _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: styles.camera\n    }), _jsx(View, {\n      style: styles.controls,\n      children: image ? _jsxs(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          paddingHorizontal: 50\n        },\n        children: [_jsx(Button, {\n          title: \"Re-take\",\n          onPress: function onPress() {\n            return setImage(null);\n          },\n          icon: \"retweet\"\n        }), _jsx(Button, {\n          title: \"Save\",\n          onPress: savePicture,\n          icon: \"check\"\n        })]\n      }) : _jsx(Button, {\n        title: \"Take a picture\",\n        onPress: takePicture,\n        icon: \"camera\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#000',\n    padding: 8\n  },\n  controls: {\n    flex: 0.5\n  },\n  button: {\n    height: 40,\n    borderRadius: 6,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  text: {\n    fontWeight: 'bold',\n    fontSize: 16,\n    color: '#E9730F',\n    marginLeft: 10\n  },\n  camera: {\n    flex: 5,\n    borderRadius: 20\n  },\n  topControls: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","Text","View","StyleSheet","TouchableOpacity","Image","Constants","Camera","CameraType","MediaLibrary","MaterialIcons","Button","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","hasCameraPermission","setHasCameraPermission","_useState3","_useState4","image","setImage","_useState5","Type","back","_useState6","type","setType","_useState7","FlashMode","off","_useState8","flash","setFlash","cameraRef","_asyncToGenerator","requestPermissionsAsync","cameraStatus","requestCameraPermissionsAsync","status","takePicture","_ref2","data","current","takePictureAsync","console","log","uri","error","apply","arguments","savePicture","_ref3","asset","createAssetAsync","alert","children","style","styles","container","camera","ref","flashMode","flexDirection","justifyContent","paddingHorizontal","title","icon","onPress","front","on","color","source","controls","create","flex","paddingTop","statusBarHeight","backgroundColor","padding","button","height","borderRadius","alignItems","text","fontWeight","fontSize","marginLeft","topControls"],"sources":["C:/Users/hrith/OneDrive/Documents/SandProject/image-acquisition/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Text, View, StyleSheet, TouchableOpacity, Image } from 'react-native';\nimport Constants from 'expo-constants';\nimport { Camera, CameraType } from 'expo-camera';\nimport * as MediaLibrary from 'expo-media-library';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport Button from './src/components/Button';\n\nexport default function App() {\n  const [hasCameraPermission, setHasCameraPermission] = useState(null);\n  const [image, setImage] = useState(null);\n  const [type, setType] = useState(Camera.Constants.Type.back);\n  const [flash, setFlash] = useState(Camera.Constants.FlashMode.off);\n  const cameraRef = useRef(null);\n\n  useEffect(() => {\n    (async () => {\n      MediaLibrary.requestPermissionsAsync();\n      const cameraStatus = await Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === 'granted');\n    })();\n  }, []);\n\n  const takePicture = async () => {\n    if (cameraRef) {\n      try {\n        const data = await cameraRef.current.takePictureAsync();\n        console.log(data);\n        setImage(data.uri);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const savePicture = async () => {\n    if (image) {\n      try {\n        const asset = await MediaLibrary.createAssetAsync(image);\n        alert('Picture saved! ðŸŽ‰');\n        setImage(null);\n        console.log('saved successfully');\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  if (hasCameraPermission === false) {\n    return <Text>No access to camera</Text>;\n  }\n\n  return (\n    <View style={styles.container}>\n      {!image ? (\n        <Camera\n          style={styles.camera}\n          type={type}\n          ref={cameraRef}\n          flashMode={flash}\n        >\n          <View\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              paddingHorizontal: 30,\n            }}\n          >\n            <Button\n              title=\"\"\n              icon=\"retweet\"\n              onPress={() => {\n                setType(\n                  type === CameraType.back ? CameraType.front : CameraType.back\n                );\n              }}\n            />\n            <Button\n              onPress={() =>\n                setFlash(\n                  flash === Camera.Constants.FlashMode.off\n                    ? Camera.Constants.FlashMode.on\n                    : Camera.Constants.FlashMode.off\n                )\n              }\n              icon=\"flash\"\n              color={flash === Camera.Constants.FlashMode.off ? 'gray' : '#fff'}\n            />\n          </View>\n        </Camera>\n      ) : (\n        <Image source={{ uri: image }} style={styles.camera} />\n      )}\n\n      <View style={styles.controls}>\n        {image ? (\n          <View\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              paddingHorizontal: 50,\n            }}\n          >\n            <Button\n              title=\"Re-take\"\n              onPress={() => setImage(null)}\n              icon=\"retweet\"\n            />\n            <Button title=\"Save\" onPress={savePicture} icon=\"check\" />\n          </View>\n        ) : (\n          <Button title=\"Take a picture\" onPress={takePicture} icon=\"camera\" />\n        )}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#000',\n    padding: 8,\n  },\n  controls: {\n    flex: 0.5,\n  },\n  button: {\n    height: 40,\n    borderRadius: 6,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    fontWeight: 'bold',\n    fontSize: 16,\n    color: '#E9730F',\n    marginLeft: 10,\n  },\n  camera: {\n    flex: 5,\n    borderRadius: 20,\n  },\n  topControls: {\n    flex: 1,\n  },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}